<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shuffle Algorithm</title>
</head>
<body>
    
</body>
<script type="text/javascript">
    let testArray = Array(45);

    let returnArray;

    function test(){

        testArray.fill(); // undefined로 전체 index의 Value를 각각 채움. fill(1)로 하면 모든 index의 value가 1로 채워짐.  https://bit.ly/3jwKEAf
        console.log(testArray);
        returnArray = testArray.map(function (currentValue, index){ //처리할 Array는 testArray를 말함.  currentValue : 처리중인 요소,   index : 처리중인 요소의 index    //addOne 쓰나 않쓰나 같은 결과. 안쓸경우, 익명함수[이름없는 함수]가 되는 것임.
            // console.log(currentValue);
            // console.log(index);
            return index + 1; // index+1값을 return해서 새로운 가상의 배열을 만듬. map은 호출한 배열 testArray의 값을 변형하지 않음.  생성된 결과인 배열을 Line 19에서 returnArray로 저장.
        });
        console.log(returnArray);
    };

    

    function shuffleFunc(array){
        let i, j, number;
        for(i=array.length; i; i--) { // 시작조건 -> 종결 조건 -> 조건 변화  (종결조건이 F이면 for문 종료. 당연히 0)
            j = Math.floor(Math.random() * i );  // index 번호 저장  , floor는 내림 함수, ceil  올림, round 반올림
            // console.log("J = ", j);
            // console.log("number = array[i-1]", number, array[i-1]);
            // console.log("Before 셔플 array J = array[",j,"]" ,array[j]);
            // console.log("Before 셔플 array I = array[",i,"]" ,array[i]);
            number = array[i-1];  // array는 0~44이므로 -1을 해줌. array[44] 부터 시작. 배열의 마지막을 Number 넣고.
            
            // console.log("array[i-1] = array[j]", array[i-1], array[j]);
            array[i-1] = array[j]; //Array[44] = Array[45*(0~1)]   배열의 끝자리에 랜덤한 배열의 값을 넣음 

            // console.log("array[j] = number;", array[j] , number);
            array[j] = number; // Array[45*(0~1)] = Array[44]  랜덤한 배열에 끝자리의 값을 넣는다.
            // console.log("After 셔플 array J = array[",j,"]" ,array[j]);
            // console.log("Before 셔플 array I = array[",i,"]" ,array[i]);
            // // console.log("I = ", i);
            // console.log("-----------------------------------");

        }
    }
    

    test();

    shuffleFunc(returnArray);

    // returnArray.sort(function compare(a,b){
    //     console.log(a,b);
    //     return a - b;
    // });

    console.log(returnArray);

</script>

</html>